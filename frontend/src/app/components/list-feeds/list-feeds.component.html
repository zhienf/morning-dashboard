<div class="album py-5">
    <div class="container">
        <h1 class="my-2">RSS Feeds</h1>

        <div class="mb-3">
            <a href="/add-feed" class="btn btn-primary">Add Feed</a>
        </div>

        <div class="row row-cols-1 g-3">
            <div class="col">
                @if (feeds.length === 0) {
                    <div class="alert alert-warning">
                        <h3>No feeds at the moment.</h3>
                    </div>
                } @else {
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Feed</th>
                                <th>Action</th>
                                @if (feeds.length > 0 && feeds[0].articles.length > 0) {
                                    @for (article of feeds[0].articles; track $index) {
                                        <th>Article {{feeds[0].articles.indexOf(article) + 1}}</th>
                                    }
                                }
                            </tr>
                        </thead>
                        <tbody>
                        @for (feed of feeds; track $index) {
                            <tr>
                                <td scope="row">{{feed.name}}</td>
                                <td scope="row">
                                    <app-delete-feed [id]="feed._id" (onDelete)="getFeeds()"></app-delete-feed>
                                </td>
                                @for (article of feed.articles; track $index) {
                                    <td>
                                        <a href="{{article.link}}" target="_blank">{{article.title}}</a>
                                    </td>
                                }
                                <td>
                            </tr>                       
                        }  
                        </tbody>
                    </table>
                }
            </div>
        </div>
    </div>
</div>    